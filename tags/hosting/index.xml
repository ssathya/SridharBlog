<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Sridhar's Blog! â€“ Hosting</title><link>https://ssathya.github.io/SridharBlog/tags/hosting/</link><description>Recent content in Hosting on Sridhar's Blog!</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 15 Mar 2025 11:28:39 -0400</lastBuildDate><atom:link href="https://ssathya.github.io/SridharBlog/tags/hosting/index.xml" rel="self" type="application/rss+xml"/><item><title>Blazor on RP</title><link>https://ssathya.github.io/SridharBlog/posts/blazor-on-rp/</link><pubDate>Sat, 15 Mar 2025 11:28:39 -0400</pubDate><guid>https://ssathya.github.io/SridharBlog/posts/blazor-on-rp/</guid><description>
&lt;h2&gt;Introduction&lt;span class="hx:absolute hx:-mt-20" id="introduction"&gt;&lt;/span&gt;
&lt;a href="#introduction" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I have always been interested in creating a blog using Blazor, a web framework that allows me to write C# code for both the client and the server side. I also wanted to host it on a Raspberry Pi, a low-cost and portable device that can run Linux and .NET applications. In this post, I will share how I configured my Blazing Blog, the name I gave to my project, on my Raspberry Pi.&lt;/p&gt;
&lt;h2&gt;How are the executable(s) built?&lt;span class="hx:absolute hx:-mt-20" id="how-are-the-executables-built"&gt;&lt;/span&gt;
&lt;a href="#how-are-the-executables-built" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;I attempted to use DuckDNS as a dynamic DNS service, but it required me to configure my router settings, which I was not comfortable with. Therefore, I decided to look for another solution for hosting my Blazing Blog website. I wanted to deploy my blog as a docker container, but I faced a challenge in creating a Dockerfile that would work on both Intel and Raspberry Pi architectures. As a result, I opted to install .Net SDK on Raspberry Pi and compile my application using the following commands:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;dotnet build release&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Enviromnet variables&lt;span class="hx:absolute hx:-mt-20" id="enviromnet-variables"&gt;&lt;/span&gt;
&lt;a href="#enviromnet-variables" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;One of the common problems that developers face when deploying their applications on Raspberry Pi devices is the configuration of environment variables. Environment variables are key-value pairs that store information such as paths, credentials, settings, etc. that are specific to the operating system or the application. When we develop our applications in Visual Studio, we often rely on its built-in features to manage the environment variables for us, without paying much attention to how they are set or where they are stored. However, when we try to run our applications on a new Raspberry Pi device, we may encounter errors or unexpected behaviors because the device does not have the same environment variables that we used in Visual Studio. Therefore, it is important to understand how to properly configure the environment variables for our applications on Raspberry Pi devices, and how to troubleshoot any issues that may arise from them.
Here are a few challenges and how I resolved it:&lt;/p&gt;
&lt;h3&gt;Kestrel&lt;span class="hx:absolute hx:-mt-20" id="kestrel"&gt;&lt;/span&gt;
&lt;a href="#kestrel" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Kestrel is a lightweight web server that can run on its own without a reverse proxy like Nginx. I chose to use Kestrel for my Blazing Blog project, which is hosted on a Raspberry Pi and has a very low traffic volume (no more than a handful concurrent users). To make Kestrel accessible from other machines, I had set enviroment
variable ASPNETCORE_URLS as follows:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;export ASPNETCORE_URLS=&amp;#34;http://0.0.0.0:5001;https://0.0.0.0:5002&amp;#34;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;One way to configure the ASP.NET Core application to listen on all network interfaces is to set the ASPNETCORE_URLS environment variable to the value of 0.0.0.0. This means that the application will accept requests from any IP address.&lt;/p&gt;
&lt;h3&gt;AWS credentials&lt;span class="hx:absolute hx:-mt-20" id="aws-credentials"&gt;&lt;/span&gt;
&lt;a href="#aws-credentials" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Blazing Blog is a web application that uses AWS S3 and System Manager&amp;rsquo;s parameter store to manage its data. It stores the database connection string in the parameter store and uses it to connect to the database. It also uploads and downloads images from S3 buckets. To ensure security and limit the scope of access, a new IAM user BlazingBlogUser was created with permissions to only access S3 and System Manager. The access keys of this user were saved in a secure location and used by the application to authenticate with AWS.&lt;/p&gt;
&lt;h3&gt;Self signed SSL&lt;span class="hx:absolute hx:-mt-20" id="self-signed-ssl"&gt;&lt;/span&gt;
&lt;a href="#self-signed-ssl" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;As Blazing Blog is a intranet application we are going to use a Self signed SSL certificate to make browsers happy! Self signed SSL certificates are a type of digital certificates that are created and signed by the owner of the website or server, rather than by a trusted third-party authority. They are often used for testing or development purposes, or for internal networks where trust is not an issue. However, self signed SSL certificates are not recommended for public-facing websites or services, as they can trigger security warnings in browsers and clients, and expose users to potential man-in-the-middle attacks.&lt;/p&gt;
&lt;p&gt;The SSL was created using the following commands:&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;dotnet dev-certs https -ep $env:USERPROFILE\.aspnet\https\aspnetapp.pfx -p crypticpassword
dotnet dev-certs https --trust&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This creates a file $HOME/.aspnet/https/aspnetapp.pfx and we set the following two envirornment variables to use this certificate.&lt;/p&gt;
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;export ASPNETCORE_Kestrel__Certificates__Default__Password=MySecretPassword
export ASPNETCORE_Kestrel__Certificates__Default__Path=/home/sridh/.aspnet/https/aspnetapp.pfx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;Putting all together&lt;span class="hx:absolute hx:-mt-20" id="putting-all-together"&gt;&lt;/span&gt;
&lt;a href="#putting-all-together" class="subheading-anchor" aria-label="Permalink for this section"&gt;&lt;/a&gt;&lt;/h3&gt;&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code"&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;export ASPNETCORE_URLS=&amp;#34;http://0.0.0.0:5001;https://0.0.0.0:5002&amp;#34;
export ASPNETCORE_Kestrel__Certificates__Default__Password=MySecretPassword
export ASPNETCORE_Kestrel__Certificates__Default__Path=/home/sridh/.aspnet/https/aspnetapp.pfx
cd ~/dotnetApp/bin/Release/net8.0/publish
./BlazingBlog &amp;amp;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0"&gt;
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
&gt;
&lt;div class="hextra-copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;div class="hextra-success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4"&gt;&lt;/div&gt;
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;</description></item></channel></rss>