<!doctype html><html lang=en><head><title>Aspire getting started | Sridhar's Blog!</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=keywords content="Sridhar's Blog!"><meta property="og:locale" content='en_US'><meta property="og:type" content="article"><meta property="og:title" content="Aspire Getting Started"><meta property="og:description" content="In this comprehensive guide, we will explore the foundational steps involved in writing your very first Aspire project. Additionally, the post will provide"><meta property="og:url" content="https://ssathya.github.io/SridharBlog/posts/aspire-getting-started/"><meta property="og:image" content="images/%!s(<nil>)"><link rel=canonical href=https://ssathya.github.io/SridharBlog/posts/aspire-getting-started/><link rel=apple-touch-icon sizes=180x180 href=https://ssathya.github.io/SridharBlog/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://ssathya.github.io/SridharBlog/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://ssathya.github.io/SridharBlog/favicon-16x16.png><link rel=manifest href=https://ssathya.github.io/SridharBlog/site.webmanifest><link rel=stylesheet href=https://ssathya.github.io/SridharBlog/css/styles.648e60c6d86809f863ae1346848574b9c685732794e7851c7d3e557de9ddd293bc1c209f963d5041785c2fd4268470bdfde453a99f550b655d1b4f825eed4682.css integrity="sha512-ZI5gxthoCfhjrhNGhIV0ucaFcyeU54UcfT5Vfend0pO8HCCflj1QQXhcL9QmhHC9/eRTqZ9VC2VdG0+CXu1Ggg=="></head><body><div class=nav-drop><div class=nav-body><div class=nav-close></div><div class=color_mode><label for=mode>Toggle Dark Mode</label>
<input type=checkbox class=color_choice id=mode></div></div></div><header class=nav><nav class=nav-menu><a href=https://ssathya.github.io/SridharBlog/ class="nav-brand nav_item">Sridhar's Blog!</a><div class=nav_bar-wrap><div class=nav_bar></div></div></nav></header><main><div class="wrap mt post"><div><p class=post_date>30. August 2025</p><h1 class=post_title>Aspire Getting Started</h1><div class=post_body><div class=post_inner><p>In this comprehensive guide, we will explore the foundational steps involved in writing your very first Aspire project. Additionally, the post will provide insightful instructions on how to smoothly transition and migrate your existing projects to the Aspire platform. This tutorial aims to equip beginners with the necessary knowledge and confidence to start developing with Aspire effectively.</p><p>Microsoft has <a href="https://learn.microsoft.com/en-us/dotnet/aspire/get-started/build-your-first-aspire-app?tabs=windows&amp;pivots=visual-studio">excellent documentation</a> for getting started with Aspire, but I am preparing this document for my personal reference and easy access.</p><h2 id=prerequisites>Prerequisites</h2><ul><li>.NET 9<ul><li>Though .NET 8 will be suitable for Aspire, we&rsquo;ll go with version 9 for Aspire 9.x support.</li></ul></li><li>An OCI-compliant container runtime, such as Podman.</li><li>Visual Studio 2022</li></ul><h2 id=create-your-first-aspire-project>Create your first Aspire Project.</h2><p>Start Visual Studio and create a new project. In the Create New Project template, select to create a new &ldquo;Aspire Starter App&rdquo;. <img src=https://learn.microsoft.com/en-us/dotnet/aspire/docs/media/aspire-templates.png alt="New project template"></p><p>In the following window, select &lsquo;AspireSample&rsquo; as the project name and click Next.</p><p>In the next dialog box, ensure .NET 9.0 is selected, ensure Redis for caching is checked, and select <strong>Create</strong>.</p><p>Visual Studio creates a new solution that is structured to use .NET Aspire.</p><h2 id=testing-the-application>Testing the application</h2><p>The sample application includes a frontend Blazor app that communicates with a Minimal API project. The API project is used to provide weather data to the frontend. The frontend app is configured to use service discovery to connect to the API project. The API project is configured to use output caching with Redis. The sample app is now ready for testing. When we deploy the application, we can verify the following conditions:</p><ul><li>Weather data is retrieved from the API project using service discovery and displayed on the weather page.</li><li>Subsequent requests are handled via the output caching configured by the .NET Aspire Redis integration.</li></ul><p>In Visual Studio, set the <em>AspireSample.AppHost</em> project as the startup project if it isn&rsquo;t set as startup project. When you start debugging/running the application:</p><ol><li><p>The application displays the .NET Aspire dashboard in the browser.</p><p><img src=https://learn.microsoft.com/en-us/dotnet/aspire/docs/get-started/media/aspire-dashboard-webfrontend.png alt></p></li><li><p>Launch the Blazor frontend by clicking on the <em>launch</em> button in Aspire dashboard.</p><ul><li>Navigate from the home page to the weather page. Make a mental note of some of the values represented in the forecast table.</li></ul></li><li><p>Continue occasionally refreshing the page. If it is refreshed within 10 seconds, the cached data is returned. Eventually, the cache data will expire, and a new set of values will be displayed.</p></li></ol><p>Congratulations! You have created and run your first .NET Aspire solution! Below, we will outline the steps to migrate your existing solution to Aspire.</p><h1 id=moving-an-existing-net-application-to-aspire>Moving an existing .NET application to Aspire</h1><p>If you have an existing microservice and .NET web app, you can add .NET Aspire to it and get all the included features and benefits.</p><h2 id=get-started>Get started</h2><p>We will work on an existing application created by Microsoft for this tutorial. We&rsquo;ll use the following command to clone an existing repository:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/MicrosoftDocs/mslearn-dotnet-cloudnative-devops.git eShopLite
</span></span></code></pre></div><h2 id=explore-the-sample-application>Explore the sample application</h2><ul><li><p><strong>Data Entities:</strong> This project serves as an example class library. It defines the <em>Product</em> class used in the Web App and Web API.</p></li><li><p><strong>Products:</strong> This example Web API returns a list of products in the catalog, along with their properties.</p></li><li><p><strong>Store:</strong> This example Blazor Web App shows the product catalog to visitors on the website.</p></li></ul><h2 id=run-the-sample-application>Run the sample application</h2><p>Load the solution in <strong><mark>Visual Studio</mark></strong> and in the <em>Solution Explorer</em> right-click the <em>eShopLite</em> solution, and then select <em>Configure Startup Projects.</em></p><ul><li><p>Select <em>Multiple startup projects</em>.</p></li><li><p>In the Action column, Select Start for both the Products and Store projects.</p></li><li><p>Select <em>Ok</em>.</p></li></ul><p>Start debugging the solution by pressing the <code>F5</code>key.</p><p>Two pages open in the browser:</p><ul><li><p>A page displays products in JSON format from a call to the Products Web API.</p></li><li><p>A page displays the website&rsquo;s homepage. In the menu on the left, select <strong>&ldquo;Products&rdquo;</strong> to view the catalog retrieved from the Web API.</p></li></ul><p>Regardless of the tool employed, initiating multiple projects manually or establishing the necessary connections between them can be a laborious and time-consuming task. Furthermore, the Store project mandates explicit configuration of endpoints for the Products API, which can be both cumbersome and susceptible to errors. In such scenarios, .NET Aspire offers an effective solution by simplifying and streamlining these processes.</p><h2 id=ensure-net-aspire-templates-are-installed>Ensure .NET Aspire templates are installed</h2><p>To develop .NET Aspire projects, we need to ensure that Aspire templates are installed on our computer. We can install and list the Aspire templates using the following commands:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dotnet new install Aspire.ProjectTemplates
</span></span></code></pre></div><p>This will install Aspire, and we can check the installed packages and version using the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dotnet new list aspire
</span></span></code></pre></div><h2 id=add-net-aspire-to-the-store-web-app>Add .NET Aspire to the Store web app</h2><p>Now, let&rsquo;s enroll the Store project, which implements the web user interface, in .NET Aspire orchestration:</p><ol><li><p>In Visual Studio, in the Solution Explorer, right-click the Store project, select Add, and then select <mark>.NET Aspire Orchestrator Support</mark>.</p></li><li><p>In the Add .NET Aspire Orchestrator Support dialog, select Ok. <img src=https://learn.microsoft.com/en-us/dotnet/aspire/docs/get-started/media/add-aspire-orchestrator-support.png alt> You should now have two new projects, both of which have been added to the solution.</p><ul><li><p><strong>eShopLite.AppHost</strong> is an orchestrator project designed to connect and configure the different projects and services of your application. The orchestrator is set as the <em>Startup project</em>, and it depends on the <em>eShopLite</em>.</p></li><li><p><strong>ServiceDefaults:</strong> This shared project is used to manage configurations that are reused across an orchestrator project designed to connect and configure the various projects and services within <em>eShopLite.Store</em> project.</p></li><li><p><strong>eshopLite.ServiceDefaults:</strong> This shared project is used to manage configurations that are reused across the projects in your solution related to resilience, service discovery, and telemetry.</p></li></ul><p>If you would examine the <em>AppHost.cs</em> file, you&rsquo;ll find the following line of code, which registers the Store project in the .NET Aspire orchestration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>builder.AddProject&lt;Projects.Store&gt;(<span style=color:#e6db74>&#34;store&#34;</span>);
</span></span></code></pre></div></li></ol><p>To add the <em>Products</em> project to the .NET Aspire:</p><ol><li><p>In Visual Studio, in the Solution Explorer, right-click the Products project, select Add, and then select .NET Aspire Orchestrator Support.</p></li><li><p>A dialog indicating that the .NET Aspire Orchestrator project already exists, select OK. <img src=https://learn.microsoft.com/en-us/dotnet/aspire/docs/get-started/media/orchestrator-already-added.png alt> In the eShopLite.AppHost project, open <em>AppHost.cs</em> file. Notice this line of code, which registers the Products project in the .NET Aspire orchestration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>builder.AddProject&lt;Projects.Products&gt;(<span style=color:#e6db74>&#34;products&#34;</span>);
</span></span></code></pre></div></li></ol><p>Also notice that the <em>eShopLite.AppHost</em> project, now depends on both the Store and Products projects.</p><h3 id=service-discovery>Service Discovery</h3><p>At this point, both projects are part of .NET Aspire orchestration, but the Store project needs to rely on the Products backend address through .NET Aspire&rsquo;s service discovery. To enable service discovery, open the <em>AppHost.cs</em> file in the <em>eShopLite.AppHost</em> project and update the code so that the <code>builder </code>adds a reference to the <em>Products</em> project:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>var</span> builder = DistributedApplication.CreateBuilder(args);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> products = builder.AddProject&lt;Projects.Products&gt;(<span style=color:#e6db74>&#34;products&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>builder.AddProject&lt;Projects.Store&gt;(<span style=color:#e6db74>&#34;store&#34;</span>)
</span></span><span style=display:flex><span>       .WithExternalHttpEndpoints()
</span></span><span style=display:flex><span>       .WithReference(products)
</span></span><span style=display:flex><span>       .WaitFor(products);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>builder.Build().Run();
</span></span></code></pre></div><p>The preceding code expresses that the <em>Store</em> project depends on the <em>Products</em> project. This reference is used to discover the address of the <em>Products</em> project at run time. Additionally, the <em>Store</em> project is configured to use external HTTP endpoints. If you later choose to deploy this application, you&rsquo;d need the call to <code>WithExternalHttpEndpoints </code>to ensure that it&rsquo;s public to the outside world. Finally, the <code>WaitFor</code> API ensures that the <em>Store</em> app waits for the <em>Products</em> app to be ready to serve requests.</p><p>Next, update the <em>appsettings.json</em> in the <em>Store</em> project with the following JSON:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;DetailedErrors&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Logging&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;LogLevel&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Default&#34;</span>: <span style=color:#e6db74>&#34;Information&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;Microsoft.AspNetCore&#34;</span>: <span style=color:#e6db74>&#34;Warning&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;AllowedHosts&#34;</span>: <span style=color:#e6db74>&#34;*&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ProductEndpoint&#34;</span>: <span style=color:#e6db74>&#34;http://products&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ProductEndpointHttps&#34;</span>: <span style=color:#e6db74>&#34;https://products&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Change to note is <code>ProductEndpoint </code>and <code>ProductEndpointHttps</code>. The destination addresses were hardcoded, but now use the &ldquo;products&rdquo; name that was added to the orchestrator in the <em>AppHost</em>. These names are used to discover the address of the <em>Products</em> project.</p><div class="alert is-info"><p class=alert-title><span class="docon docon-status-error-outline" aria-hidden=true></span> Note</p><p>Notice that the <strong>eShopLite.AppHost</strong> project is the new startup project.</p></div><h2 id=explore-the-enrolled-application>Explore the enrolled application</h2><p>Let&rsquo;s start by examining the new behavior that .NET Aspire provides.</p><p><strong>Note</strong></p><p><em>Notice that the <strong>eShopLite.AppHost</strong> project is the new statup project.</em></p><ol><li><p>In Visual Studio, to start debugging, press <code>F5</code> to build and launch the project.</p></li><li><p>If the Start Docker Desktop dialog appears, select Yes. Visual Studio starts the Docker engine and creates the necessary containers. When the deployment is complete, the .NET Aspire dashboard is displayed.</p></li><li><p>In the dashboard, select the endpoint for the <em>Products</em> project.</p></li><li><p>In the dashboard, select the endpoint for the products project. A new browser tab appears and displays the product catalog in JSON format.</p></li><li><p>In the menu on the left, select Products. The product catalog is displayed.</p></li><li><p>To stop debugging, close the browser.</p></li></ol><p>Congratulations, you added .NET Aspire orchestration to your preexisting web app. You can now add .NET Aspire integrations and use the .NET Aspire tooling to streamline your cloud native web app development.</p></div><div class="post_extra mb-2"><div class=copy data-before="Share Story" data-after="Link Copied"><svg class="icon"><use xlink:href="#copy"/></svg></div></div><div></div></div></div><a href=https://ssathya.github.io/SridharBlog/ class=post_nav><span class=post_next>Latest Posts
<svg class="icon icon_scale"><use xlink:href="#double-arrow"/></svg></span></a></div></main><footer class="footer wrap pale"><p>&copy;&nbsp;<span class=year></span>&nbsp;Sridhar's Blog!</p><p class="attribution upcase">Designed by <a href='<no value>' target=_blank title='Linkedin Profile' rel=nonopener><no value></a></p></footer><script src=https://ssathya.github.io/SridharBlog/js/index.min.37437af50776941f9afce75ecfefd228d0ee6ceb0ad33ff35a9fea22b0a7236be8e38a9ff1666ad540d25dd37bc569705c5cceb13f7cd57ccbf3678201c43771.js></script><svg width="0" height="0" class="hidden"><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 699.428 699.428" id="copy"><path d="M502.714.0H240.428C194.178.0 153 42.425 153 87.429l-25.267.59c-46.228.0-84.019 41.834-84.019 86.838V612c0 45.004 41.179 87.428 87.429 87.428H459c46.249.0 87.428-42.424 87.428-87.428h21.857c46.25.0 87.429-42.424 87.429-87.428v-349.19L502.714.0zM459 655.715H131.143c-22.95.0-43.714-21.441-43.714-43.715V174.857c0-22.272 18.688-42.993 41.638-42.993l23.933-.721v393.429C153 569.576 194.178 612 240.428 612h262.286c0 22.273-20.765 43.715-43.714 43.715zm153-131.143c0 22.271-20.765 43.713-43.715 43.713H240.428c-22.95.0-43.714-21.441-43.714-43.713V87.429c0-22.272 20.764-43.714 43.714-43.714H459c-.351 50.337.0 87.975.0 87.975.0 45.419 40.872 86.882 87.428 86.882H612v306zm-65.572-349.715c-23.277.0-43.714-42.293-43.714-64.981V44.348L612 174.857h-65.572zm-43.714 131.537H306c-12.065.0-21.857 9.77-21.857 21.835s9.792 21.835 21.857 21.835h196.714c12.065.0 21.857-9.771 21.857-21.835.0-12.065-9.792-21.835-21.857-21.835zm0 109.176H306c-12.065.0-21.857 9.77-21.857 21.834.0 12.066 9.792 21.836 21.857 21.836h196.714c12.065.0 21.857-9.77 21.857-21.836.0-12.064-9.792-21.834-21.857-21.834z"/></symbol><symbol viewBox="0 0 53 42" xmlns="http://www.w3.org/2000/svg" id="double-arrow"><path d="M.595 39.653a1.318 1.318.0 010-1.864L16.55 21.833a1.318 1.318.0 000-1.863L.595 4.014a1.318 1.318.0 010-1.863L2.125.62a1.318 1.318.0 011.864.0l19.35 19.349a1.318 1.318.0 010 1.863l-19.35 19.35a1.318 1.318.0 01-1.863.0zm29 0a1.318 1.318.0 010-1.864L45.55 21.833a1.318 1.318.0 000-1.863L29.595 4.014a1.318 1.318.0 010-1.863l1.53-1.53a1.318 1.318.0 011.864.0l19.35 19.349a1.318 1.318.0 010 1.863l-19.35 19.35a1.318 1.318.0 01-1.863.0z"/></symbol></svg></body></html>